<!DOCTYPE html>
<html>
<head>
  <title>Lazy Background Image Loading</title>
  <style>
  * {
    margin: 0px; padding: 0px;
  }
  html { 
    background: no-repeat center fixed; 
    -webkit-background-size: cover;
    -moz-background-size: cover;
    -o-background-size: cover;
    background-size: cover;
    -webkit-transition: background-image 0.5s linear;
    -moz-transition: background-image 0.5s linear;
    -o-transition: background-image 0.5s linear;
    transition: background-image 0.5s linear;
  }
  .fadeIn-background {
    background: no-repeat center; 
    -webkit-background-size: cover;
    -moz-background-size: cover;
    -o-background-size: cover;
    background-size: cover;
  }
  .center {
    margin-left: 0px;
    margin-right: 0px;
  }
  article {
    margin: 50px auto 600px;
    width: 600px;
    height: 400px;
    text-align: center;
  }
  article img {
    width: inherit;
  }
  .lazy {
    background: no-repeat center; 
    background-image: url('background.jpg');
    -webkit-transition: background-image 0.5s linear;
    -moz-transition: background-image 0.5s linear;
    -o-transition: background-image 0.5s linear;
    transition: background-image 0.5s linear;
  }
  </style>
</head>
<body>
  <select class="select-background">
    <option value="n">No</option>
    <option value="b">Background</option>
    <option value="b-p">Progressive Background</option>
    <option value="f">Flower</option>
    <option value="f-p">Progressive Flower</option>
  </select>
  <section class="center">
    <article class="fadeIn-background lazy" data-background="images/bg0.jpg">
    </article>
    <article class="fadeIn-background lazy" data-background="images/bg1.jpg">
    </article>
    <article class="fadeIn-background lazy" data-background="images/bg2.jpg">
    </article>
    <article class="fadeIn-background lazy" data-background="images/bg3.jpg">
    </article>


<!--     <article data-background="images/bg0.jpg">
      <img  data-original="images/bg0.jpg" class="lazy">
    </article>
    <article data-background="images/bg1.jpg">
      <img data-original="images/bg1.jpg" class="lazy">
    </article>
    <article data-background="images/bg2.jpg">
      <img  data-original="images/bg2.jpg" class="lazy">
    </article>
    <article data-background="images/bg3.jpg">
      <img  data-original="images/bg3.jpg" class="lazy">
    </article> -->
  </section>

<script src="jquery.js"></script>
<script src="lazyload.background.js"></script>
<script>
  (function($) {
    var html = $('html')
    $('.select-background').change(function() {
      var option = $('.select-background option:selected').attr('value');
      var img = '';
      if (option == 'b') {
        img = 'background.jpg'
      } else if (option == 'b-p') {
        img = 'background-progressive.jpg'
      } else if (option == 'f') {
        img = 'flower.jpg'
      } else if (option == 'f-p') {
        img = 'flower-progressive.jpg'
      } else if (option == 'n') {
        img = ''
      }
      html.css('background-image', 'url(' + img + ')')
    })
    $('.lazy').lazyload({
      effect: 'fadeIn',
      effect_speed: 5000,
      threshold: 200
    });
  })(jQuery);
</script>
</body>
</html>
